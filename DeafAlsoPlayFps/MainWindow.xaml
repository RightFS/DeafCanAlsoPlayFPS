<Window
    x:Class="DeafAlsoPlayFps.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:DeafAlsoPlayFps"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:octopusControls="clr-namespace:OctopusControls;assembly=OctopusControls"
    Title="声音方向显示"
    Width="600"
    Height="450"
    AllowsTransparency="True"
    Background="Transparent"
    FontFamily="MiSans VF"
    Loaded="Window_Loaded"
    ResizeMode="NoResize"
    SourceInitialized="Window_SourceInitialized"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">
    <Window.Resources>
        <!--  下拉按钮样式  -->
        <Style x:Key="ComboBoxToggleButtonStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <!--  整个按钮区域可点击  -->
                        <Border
                            Height="32"
                            Margin="-1,1,-1,1"
                            Background="#282828"
                            BorderBrush="#1AFFFFFF"
                            BorderThickness="1"
                            CornerRadius="2">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="30" />
                                </Grid.ColumnDefinitions>
                                <Border
                                    Grid.Column="1"
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,0,0">
                                    <Path
                                        x:Name="Arrow"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Data="M 0,0 L 4,4 L 8,0 Z"
                                        Fill="White" />
                                </Border>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Arrow" Property="Fill" Value="LightGray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  自定义 ComboBox 样式  -->
        <Style x:Key="DarkComboBoxStyle" TargetType="{x:Type ComboBox}">
            <!--  基础属性设置  -->
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#FFAAAAAA" />
            <Setter Property="BorderBrush" Value="#1AFFFFFF" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <!--  主容器  -->
                        <Grid>
                            <!--  内容和按钮容器  -->
                            <Border
                                x:Name="Border"
                                Width="{TemplateBinding Width}"
                                Height="{TemplateBinding Height}"
                                Padding="1"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="2">
                                <Grid>
                                    <!--  整个 ComboBox 区域作为 ToggleButton  -->
                                    <ToggleButton
                                        x:Name="ToggleButton"
                                        Margin="0,-2,0,0"
                                        Focusable="false"
                                        IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                        Style="{StaticResource ComboBoxToggleButtonStyle}" />

                                    <!--  内容展示区，放在 ToggleButton 上面，但不接收点击事件  -->
                                    <ContentPresenter
                                        x:Name="ContentSite"
                                        Grid.Column="0"
                                        Margin="12,0,0,0"
                                        VerticalAlignment="Center"
                                        Content="{TemplateBinding SelectionBoxItem}"
                                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                        IsHitTestVisible="False" />
                                </Grid>
                            </Border>

                            <!--  下拉弹窗  -->
                            <Popup
                                x:Name="PART_Popup"
                                AllowsTransparency="True"
                                Focusable="False"
                                IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                Placement="Bottom"
                                PopupAnimation="Slide">
                                <Border
                                    x:Name="DropDownBorder"
                                    MinWidth="{TemplateBinding ActualWidth}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                    Background="#282828"
                                    BorderBrush="#1AFFFFFF"
                                    BorderThickness="1">
                                    <ScrollViewer SnapsToDevicePixels="True">
                                        <ItemsPresenter KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <!--  状态触发器  -->
                        <ControlTemplate.Triggers>
                            <!--  禁用状态：文字变灰  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="ContentSite" Property="TextElement.Foreground" Value="LightGray" />
                                <Setter TargetName="Border" Property="Opacity" Value="0.7" />
                            </Trigger>
                            <Trigger Property="IsDropDownOpen" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#33FFFFFF" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <!--  下拉列表项样式  -->
            <Style.Resources>
                <Style TargetType="{x:Type ComboBoxItem}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                                <Border
                                    x:Name="ItemBorder"
                                    Padding="8,6"
                                    Background="Transparent">
                                    <ContentPresenter />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="ItemBorder" Property="Background" Value="#33FFFFFF" />
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="ItemBorder" Property="Background" Value="#22FFFFFF" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Style.Resources>
        </Style>


        <Style x:Key="BorderHoverStyle" TargetType="Border">
            <!--  默认状态：无边框  -->
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="Transparent" />

            <!--  悬停状态：显示边框  -->
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderThickness" Value="1" />
                    <Setter Property="BorderBrush" Value="#33FFFFFF" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="RoundButtonStyle" TargetType="Button">
            <!--  默认样式（可选）  -->
            <Setter Property="Background" Value="#0FFFFFFF" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <!--  示例蓝色  -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <!--  鼠标悬停时降低背景透明度  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <!--  调整Alpha值（80=50%透明度）  -->
                                <Setter TargetName="border" Property="Background" Value="#15FFFFFF" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}" />
            <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type CheckBox}">
                        <ControlTemplate.Resources>
                            <Storyboard x:Key="OnChecking">
                                <DoubleAnimationUsingKeyFrames
                                    BeginTime="00:00:00"
                                    Storyboard.TargetName="slider"
                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.2000000" Value="16" />
                                </DoubleAnimationUsingKeyFrames>
                                <!--  添加背景色变化动画  -->
                                <ColorAnimationUsingKeyFrames
                                    BeginTime="00:00:00"
                                    Storyboard.TargetName="backgroundGrid"
                                    Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                                    <SplineColorKeyFrame KeyTime="00:00:00.2000000" Value="#4e41db" />
                                </ColorAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="OnUnchecking">
                                <DoubleAnimationUsingKeyFrames
                                    BeginTime="00:00:00"
                                    Storyboard.TargetName="slider"
                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.2000000" Value="2" />
                                </DoubleAnimationUsingKeyFrames>
                                <ThicknessAnimationUsingKeyFrames
                                    BeginTime="00:00:00"
                                    Storyboard.TargetName="slider"
                                    Storyboard.TargetProperty="(FrameworkElement.Margin)">
                                    <SplineThicknessKeyFrame KeyTime="00:00:00.2000000" Value="1,1,1,1" />
                                </ThicknessAnimationUsingKeyFrames>
                                <!--  添加背景色变化动画  -->
                                <ColorAnimationUsingKeyFrames
                                    BeginTime="00:00:00"
                                    Storyboard.TargetName="backgroundGrid"
                                    Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
                                    <SplineColorKeyFrame KeyTime="00:00:00.2000000" Value="#353535" />
                                </ColorAnimationUsingKeyFrames>
                            </Storyboard>
                        </ControlTemplate.Resources>

                        <DockPanel x:Name="dockPanel">
                            <ContentPresenter
                                VerticalAlignment="Center"
                                Content="{TemplateBinding Content}"
                                ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                RecognizesAccessKey="True"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            <Border
                                x:Name="backgroundGrid"
                                Width="32"
                                Height="16"
                                Margin="0"
                                Background="#353535"
                                BorderThickness="0"
                                CornerRadius="2">
                                <Grid>
                                    <Border
                                        x:Name="slider"
                                        Width="12"
                                        Height="12"
                                        Margin="2"
                                        HorizontalAlignment="Left"
                                        BorderThickness="0"
                                        CornerRadius="1"
                                        RenderTransformOrigin="0.5,0.5">
                                        <Border.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                                <SkewTransform AngleX="0" AngleY="0" />
                                                <RotateTransform Angle="0" />
                                                <TranslateTransform X="2" Y="0" />
                                            </TransformGroup>
                                        </Border.RenderTransform>
                                        <Border.BorderBrush>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="#FFFFFFFF" />
                                                <GradientStop Offset="1" Color="#FFFFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.BorderBrush>
                                        <Border.Background>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="1" Color="#FFFFFFFF" />
                                                <GradientStop Offset="0" Color="#FFFFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.Background>
                                    </Border>
                                </Grid>
                            </Border>
                        </DockPanel>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Trigger.ExitActions>
                                    <BeginStoryboard x:Name="OnUnchecking_BeginStoryboard" Storyboard="{StaticResource OnUnchecking}" />
                                </Trigger.ExitActions>
                                <Trigger.EnterActions>
                                    <BeginStoryboard x:Name="OnChecking_BeginStoryboard" Storyboard="{StaticResource OnChecking}" />
                                </Trigger.EnterActions>
                                <!--  直接设置选中状态的背景色  -->
                                <Setter TargetName="backgroundGrid" Property="Background" Value="#4e41db" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style x:Key="CustomRadioStyle" TargetType="RadioButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Grid>
                            <!--  布局结构：左侧图标 + 右侧文本  -->
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="16" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!--  图标容器 (统一位置)  -->
                            <Grid
                                x:Name="iconHost"
                                Grid.Column="0"
                                Width="16"
                                Height="16">
                                <!--  未选中状态图标（灰色空心圆环）  -->
                                <Image
                                    x:Name="defaultIcon"
                                    Source="/resource/button/default.png"
                                    Visibility="Visible" />

                                <!--  选中状态图标（白心灰环）  -->
                                <Image
                                    x:Name="activeIcon"
                                    Source="/resource/button/checked.png"
                                    Visibility="Collapsed" />

                                <!--  悬停状态图标（深灰空心圆环）  -->
                                <Image
                                    x:Name="hoverIcon"
                                    Source="/resource/button/hover.png"
                                    Visibility="Collapsed" />
                            </Grid>

                            <!--  文本区域  -->
                            <TextBlock
                                x:Name="contentText"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Foreground="#80FFFFFF"
                                Text="{TemplateBinding Content}" />
                            <!--  默认灰色  -->
                        </Grid>

                        <!--  状态触发器  -->
                        <ControlTemplate.Triggers>
                            <!--  禁用状态  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="activeIcon" Property="Visibility" Value="Collapsed" />
                                <Setter TargetName="defaultIcon" Property="Visibility" Value="Visible" />
                                <Setter TargetName="contentText" Property="Foreground" Value="#80FFFFFF" />
                            </Trigger>
                            <!--  选中状态  -->
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsEnabled" Value="True" />
                                    <Condition Property="IsChecked" Value="True" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="activeIcon" Property="Visibility" Value="Visible" />
                                <Setter TargetName="defaultIcon" Property="Visibility" Value="Collapsed" />
                                <Setter TargetName="contentText" Property="Foreground" Value="#E5FFFFFF" />
                            </MultiTrigger>

                            <!--  悬停状态（优先级低于选中状态）  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="hoverIcon" Property="Visibility" Value="Visible" />
                                <Setter TargetName="defaultIcon" Property="Visibility" Value="Collapsed" />
                                <!--  选中状态时不改变文本颜色  -->
                                <Setter TargetName="contentText" Property="Foreground" Value="#80FFFFFF" />
                            </Trigger>

                            <!--  多条件触发：悬停+未选中  -->
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True" />
                                    <Condition Property="IsChecked" Value="False" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="hoverIcon" Property="Visibility" Value="Visible" />
                                <Setter TargetName="contentText" Property="Foreground" Value="#B2FFFFFF" />
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Slider 控件模板  -->
        <Style x:Key="DarkSliderStyle" TargetType="Slider">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <!--  轨道背景  -->
                            <Rectangle
                                x:Name="TrackBackground"
                                Width="240"
                                Height="10"
                                VerticalAlignment="Center"
                                Fill="#0FFFFFFF" />

                            <!--  进度填充部分  -->
                            <Rectangle
                                x:Name="TrackFill"
                                Height="10"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Fill="#B2FFFFFF">
                                <Rectangle.Width>
                                    <MultiBinding Converter="{StaticResource ProgressConverter}">
                                        <Binding Path="Value" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="Maximum" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding ElementName="TrackBackground" Path="ActualWidth" />
                                    </MultiBinding>
                                </Rectangle.Width>
                            </Rectangle>

                            <!--  滑块轨道  -->
                            <Track x:Name="PART_Track">
                                <Track.Thumb>
                                    <Thumb
                                        x:Name="CustomThumb"
                                        Width="7.2"
                                        Height="14.4">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Grid>
                                                    <octopusControls:BubbleTooltip
                                                        Width="27"
                                                        Height="19"
                                                        Margin="-10,-23,-23,-23"
                                                        BorderThickness="0.6"
                                                        BubbleBackground="#1F1F1F"
                                                        BubbleBorderBrush="#1AFFFFFF"
                                                        BubbleCornerRadius="1"
                                                        TailSize="2.4"
                                                        TailStrokeThickness="0.6">
                                                        <TextBlock
                                                            Width="20"
                                                            Margin="-17,-27"
                                                            HorizontalAlignment="Left"
                                                            VerticalAlignment="Top"
                                                            d:Text="12"
                                                            FontSize="8.4"
                                                            Foreground="#B2FFFFFF"
                                                            Text="{Binding Value, RelativeSource={RelativeSource AncestorType=Slider}, StringFormat='{}{0:F1}'}"
                                                            TextAlignment="Center" />
                                                    </octopusControls:BubbleTooltip>
                                                    <Border Background="#FFF" CornerRadius="2" />
                                                </Grid>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


    </Window.Resources>
    <Window.Effect>
        <DropShadowEffect
            BlurRadius="36"
            Direction="0"
            Opacity="0.12"
            ShadowDepth="0"
            Color="#000000" />
    </Window.Effect>
    <Border
        Background="#1F1F1F"
        BorderBrush="#1AFFFFFF"
        BorderThickness="1"
        CornerRadius="4">
        <Grid x:Name="WindowBackground">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!--  标题栏  -->
                <Grid Grid.Row="0" Height="50">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <Rectangle Fill="Transparent" MouseLeftButtonDown="Grid_MouseLeftButtonDown" />
                    <StackPanel MouseLeftButtonDown="Grid_MouseLeftButtonDown" Orientation="Horizontal">
                        <TextBlock
                            Grid.Column="0"
                            Height="50"
                            Padding="16,14,0,0"
                            VerticalAlignment="Center"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="#E5FFFFFF"
                            Text="声音可视化 AudioVisualizer" />
                        <CheckBox
                            x:Name="MainSwitch"
                            Margin="8,0,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content=""
                            Focusable="False"
                            IsChecked="{Binding SwitchOn}"
                            Style="{DynamicResource CheckBoxStyle1}" />
                        <!--  Unchecked="MainSwitch_Unchecked"  -->
                        <!--  Checked="MainSwitch_Checked"  -->
                        <!--<Border
                         Width="16"
                         Height="16"
                         Margin="8,0,0,0"
                         MouseEnter="Image_MouseEnter"
                         MouseLeave="Image_MouseLeave">
                            <Border.Background>
                                <SolidColorBrush ImageSource="/resource/button/tool-tip.png" Stretch="Uniform" />
                            </Border.Background>
                        </Border>-->
                    </StackPanel>
                    <StackPanel
                        Grid.Column="2"
                        Margin="0,0,16,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <octopusControls:ImageButton
                            Width="28"
                            Margin="8,0,0,0"
                            Background="#1F1F1F"
                            ImagePrefix="pack://application:,,,/resource/button/close"
                            Visibility="Collapsed" />
                        <octopusControls:ImageButton
                            Width="28"
                            Margin="8,0"
                            Background="#1F1F1F"
                            ImagePrefix="pack://application:,,,/resource/button/minus"
                            Visibility="Collapsed" />
                        <octopusControls:ImageButton
                            Width="28"
                            Background="#1F1F1F"
                            Click="CloseButton_Click"
                            ImagePrefix="pack://application:,,,/resource/button/close" />
                    </StackPanel>
                </Grid>
                <Grid Grid.Row="1">
                    <StackPanel Margin="0,16,0,0">
                        <Border
                            Width="552"
                            Height="32"
                            Background="#0AFFFFFF">
                            <StackPanel>
                                <TextBlock
                                    VerticalAlignment="Center"
                                    Foreground="#F37F19"
                                    Text="不支持独占全屏模式, 仅处理默认音频输出设备"
                                    TextAlignment="Center" />
                                <TextBlock
                                    VerticalAlignment="Center"
                                    Foreground="#F37F19"
                                    Text="Exclusive full screen is not supported, only the default audio output device is processed."
                                    TextAlignment="Center" />
                            </StackPanel>

                        </Border>
                        <Grid Height="300" Margin="32,24,32,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="1.15*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                显示模式 Display Mode
                            </TextBlock>
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                显示/隐藏 Show/Hide
                            </TextBlock>
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                位置调整 Position Adjustment
                            </TextBlock>
                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                音量增益 Volume Gain
                            </TextBlock>
                            <TextBlock
                                Grid.Row="4"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                声道分离 Channel Separation
                            </TextBlock>
                            <TextBlock
                                Grid.Row="5"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                Foreground="#B2FFFFFF">
                                响应灵敏度 Response Sensitivity
                            </TextBlock>
                            <ComboBox
                                x:Name="DisplaySelector"
                                Grid.Row="0"
                                Grid.Column="1"
                                Width="240"
                                Height="36"
                                Margin="-5,0,0,0"
                                VerticalAlignment="Center"
                                BorderThickness="0"
                                FontSize="14"
                                SelectedIndex="{Binding SelectedDisplayIndex, Mode=TwoWay}"
                                Style="{StaticResource DarkComboBoxStyle}">
                                <ComboBoxItem Content="全部展示/All" Tag="all" />
                                <ComboBoxItem Content="仅展示顶部/Top Only" Tag="top" />
                                <ComboBoxItem Content="仅展示两侧/Sides Only" Tag="sides" />
                            </ComboBox>
                            <Border
                                x:Name="HotKeySwitchBorder"
                                Grid.Row="1"
                                Grid.Column="1"
                                Width="240"
                                Height="32"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Background="#282828"
                                CornerRadius="2">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <!--  默认状态：无边框  -->
                                        <Setter Property="BorderThickness" Value="1" />
                                        <Setter Property="BorderBrush" Value="#1AFFFFFF" />

                                        <!--  悬停状态：显示边框  -->
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="BorderThickness" Value="1" />
                                                <Setter Property="BorderBrush" Value="#33FFFFFF" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <TextBox
                                    x:Name="HotKeySwitchText"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    FontSize="14"
                                    IsReadOnly="True"
                                    Text="F8"
                                    TextAlignment="Center">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Setter Property="Foreground" Value="#FF838383" />
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Foreground" Value="#E5FFFFFF" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </Border>
                            <Border
                                x:Name="HotKeyAdjustBorder"
                                Grid.Row="2"
                                Grid.Column="1"
                                Width="240"
                                Height="32"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Background="#282828"
                                CornerRadius="2">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <!--  默认状态：无边框  -->
                                        <Setter Property="BorderThickness" Value="1" />
                                        <Setter Property="BorderBrush" Value="#1AFFFFFF" />

                                        <!--  悬停状态：显示边框  -->
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="BorderThickness" Value="1" />
                                                <Setter Property="BorderBrush" Value="#33FFFFFF" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <TextBox
                                    x:Name="HotKeyAdjustText"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    FontSize="14"
                                    IsReadOnly="True"
                                    Text="F9"
                                    TextAlignment="Center">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Setter Property="Foreground" Value="#FF838383" />
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Foreground" Value="#E5FFFFFF" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </Border>
                            <Slider
                                Name="GainBoostSlider2"
                                Grid.Row="3"
                                Grid.Column="1"
                                Width="240"
                                VerticalAlignment="Center"
                                d:Value="2"
                                IsSnapToTickEnabled="True"
                                Maximum="2.0"
                                Minimum="0.1"
                                Style="{StaticResource DarkSliderStyle}"
                                TickFrequency="0.1"
                                Value="{Binding GainBoost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <Slider
                                Name="GainBoostSlider"
                                Grid.Row="4"
                                Grid.Column="1"
                                Width="240"
                                IsSnapToTickEnabled="True"
                                Maximum="2.0"
                                Minimum="0.1"
                                Style="{StaticResource DarkSliderStyle}"
                                TickFrequency="0.1"
                                Value="{Binding ChannelSeparation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <Slider
                                Name="AudioSensitivitySlider"
                                Grid.Row="5"
                                Grid.Column="1"
                                Width="240"
                                IsSnapToTickEnabled="True"
                                Maximum="2.0"
                                Minimum="0.1"
                                Style="{StaticResource DarkSliderStyle}"
                                TickFrequency="0.1"
                                Value="{Binding AudioSensitivity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                    </StackPanel>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>