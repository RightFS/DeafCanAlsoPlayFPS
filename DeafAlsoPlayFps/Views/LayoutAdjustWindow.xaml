<Window
    x:Class="DeafAlsoPlayFps.Views.LayoutAdjustWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:DeafAlsoPlayFps.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="布局调整"
    d:Height="1090"
    d:Width="1920"
    AllowsTransparency="True"
    Background="#9A000000"
    FontFamily="MiSans VF"
    KeyDown="Window_KeyDown"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    SourceInitialized="Window_SourceInitialized"
    Topmost="True"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized"
    WindowStyle="None"
    mc:Ignorable="d">
    <Grid>
        <Canvas>
            <!--  主容器  -->
            <Border
                x:Name="MainContainer"
                Width="380"
                Height="60"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Background="#20000000"
                BorderBrush="#40FFFFFF"
                BorderThickness="1"
                CornerRadius="30"
                Cursor="SizeAll"
                MouseLeftButtonDown="Border_MouseLeftButtonDown"
                MouseLeftButtonUp="Border_MouseLeftButtonUp"
                MouseMove="Border_MouseMove">

                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  标题  -->
                    <TextBlock
                        Grid.Row="0"
                        Margin="0,2,0,4"
                        HorizontalAlignment="Center"
                        FontSize="10"
                        Foreground="White"
                        Text="声道平衡" />

                    <!--  差值显示区域  -->
                    <Grid Grid.Row="1">
                        <!--  背景轨道  -->
                        <Border
                            Height="20"
                            Background="#33FFFFFF"
                            CornerRadius="10" />

                        <!--  中心线  -->
                        <Rectangle
                            Width="1"
                            Height="20"
                            HorizontalAlignment="Center"
                            Fill="#AAFFFFFF" />

                        <!--  差值指示器  -->
                        <Canvas x:Name="DifferenceCanvas">
                            <!--  左侧区域 (负差值)  -->
                            <!--  左侧区域 (负差值)  -->
                            <Rectangle
                                x:Name="LeftDifferenceBar"
                                Canvas.Left="128"
                                Canvas.Top="2"
                                Width="50"
                                Height="16"
                                Fill="#FF4444"
                                RadiusX="8"
                                RadiusY="8" />

                            <!--  右侧区域 (正差值)  -->
                            <Rectangle
                                x:Name="RightDifferenceBar"
                                Canvas.Left="179"
                                Canvas.Top="2"
                                Width="70"
                                Height="16"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top"
                                Fill="#44FF44"
                                RadiusX="8"
                                RadiusY="8" />

                            <!--  中心点  -->
                            <Ellipse
                                x:Name="CenterPoint"
                                Canvas.Left="176"
                                Canvas.Top="7"
                                Width="6"
                                Height="6"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Fill="White"
                                Visibility="Collapsed" />
                        </Canvas>

                        <!--  刻度标记  -->
                        <Canvas>
                            <!--  左侧刻度  -->
                            <Rectangle
                                Canvas.Left="95"
                                Canvas.Top="6"
                                Width="1"
                                Height="8"
                                Fill="#66FFFFFF" />
                            <Rectangle
                                Canvas.Left="47"
                                Canvas.Top="6"
                                Width="1"
                                Height="8"
                                Fill="#66FFFFFF" />

                            <!--  右侧刻度  -->
                            <Rectangle
                                Canvas.Left="285"
                                Canvas.Top="6"
                                Width="1"
                                Height="8"
                                Fill="#66FFFFFF" />
                            <Rectangle
                                Canvas.Left="333"
                                Canvas.Top="6"
                                Width="1"
                                Height="8"
                                Fill="#66FFFFFF" />
                        </Canvas>

                        <!--  标签  -->
                        <Grid Margin="5,0" VerticalAlignment="Center">
                            <TextBlock
                                HorizontalAlignment="Left"
                                FontSize="8"
                                Foreground="#FF4444"
                                Text="L" />
                            <TextBlock
                                HorizontalAlignment="Right"
                                FontSize="8"
                                Foreground="#44FF44"
                                Text="R" />
                        </Grid>
                    </Grid>
                </Grid>
            </Border>
            <!--  左声道能量条  -->
            <Border
                x:Name="LeftChannelContainer"
                Width="50"
                Height="380"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Background="#20000000"
                BorderBrush="#40FFFFFF"
                BorderThickness="1"
                CornerRadius="25"
                Cursor="SizeAll"
                MouseLeftButtonDown="Border_MouseLeftButtonDown"
                MouseLeftButtonUp="Border_MouseLeftButtonUp"
                MouseMove="Border_MouseMove">
                <Grid>
                    <!--  背景刻度线  -->
                    <Canvas>
                        <Rectangle
                            Canvas.Top="38"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="76"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="114"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="152"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="190"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="228"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="266"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="304"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="342"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                    </Canvas>

                    <!--  能量条  -->
                    <Rectangle
                        x:Name="LeftChannelBar"
                        Width="40"
                        Height="150"
                        Margin="0,0,0,20"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                <GradientStop Offset="0" Color="#FF00FF00" />
                                <GradientStop Offset="0.6" Color="#FFFFFF00" />
                                <GradientStop Offset="1" Color="#FFFF0000" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>

                    <!--  左声道标签  -->
                    <TextBlock
                        Margin="0,5,0,0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="L" />
                </Grid>
            </Border>
            <!--  右声道能量条  -->
            <Border
                x:Name="RightChannelContainer"
                Width="50"
                Height="380"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Background="#20000000"
                BorderBrush="#40FFFFFF"
                BorderThickness="1"
                CornerRadius="25"
                Cursor="SizeAll"
                MouseLeftButtonDown="Border_MouseLeftButtonDown"
                MouseLeftButtonUp="Border_MouseLeftButtonUp"
                MouseMove="Border_MouseMove">
                <Grid>
                    <!--  背景刻度线  -->
                    <Canvas>
                        <Rectangle
                            Canvas.Top="38"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="76"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="114"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="152"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="190"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="228"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="266"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="304"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                        <Rectangle
                            Canvas.Top="342"
                            Width="46"
                            Height="1"
                            Fill="#30FFFFFF" />
                    </Canvas>

                    <!--  能量条  -->
                    <Rectangle
                        x:Name="RightChannelBar"
                        Width="40"
                        Height="150"
                        Margin="0,0,0,20"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                <GradientStop Offset="0" Color="#FF00FF00" />
                                <GradientStop Offset="0.6" Color="#FFFFFF00" />
                                <GradientStop Offset="1" Color="#FFFF0000" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>

                    <!--  右声道标签  -->
                    <TextBlock
                        Margin="0,5,0,0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="R" />
                </Grid>
            </Border>
        </Canvas>

        <!--  添加一个可点击的关闭按钮或提示信息  -->
        <StackPanel
            x:Name="Tips"
            Margin="10"
            VerticalAlignment="Bottom">
            <TextBlock
                Margin="10"
                HorizontalAlignment="Center"
                Foreground="White"
                Text="按ESC键撤消修改并退出布局调整模式/Press ESC to undo changes and exit layout adjustment mode.​" />
            <TextBlock
                Margin="10"
                HorizontalAlignment="Center"
                Foreground="White"
                Text="按回车键保存并退出布局调整模式/Press Enter to save changes and exit layout adjustment mode." />
        </StackPanel>
    </Grid>
</Window>
